<!-- <app-search-navbar></app-search-navbar> -->
<div>
<h1>Players</h1>
<hr>
<button mat-raised-button class="addPlayerBtn" (click)="openDialog()">Create Player</button>
<br>

<mat-form-field>
  <input matInput placeholder="Search Players" #input>
</mat-form-field>

<div class="spinner-container" *ngIf="dataSource.loading$ | async">
    <mat-spinner></mat-spinner>
</div>

<mat-table style="margin: auto; width: 75%" mat-table [dataSource]="dataSource" class="mat-players-table" matSort matSortActive="playername" matSortDirection="asc" matSortDisableClear>

  <ng-container matColumnDef="playername">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>
    <mat-cell *matCellDef="let player"> {{player.playername}} </mat-cell>
  </ng-container>  

  <ng-container matColumnDef="position">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Position </mat-header-cell>
    <mat-cell *matCellDef="let player"> {{player.position}} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="role">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Role </mat-header-cell>
    <mat-cell *matCellDef="let player"> {{player.role}} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="technical">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Technical </mat-header-cell>
    <mat-cell *matCellDef="let player"> {{player.technical}} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="mental">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Mental </mat-header-cell>
    <mat-cell *matCellDef="let player"> {{player.mental}} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="physical">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Physical </mat-header-cell>
    <mat-cell *matCellDef="let player"> {{player.physical}}
      <button class="deletePlayer"><span class="ion ion-md-close deleteBtn"></span></button>  
      <button class="editPlayer"><span class="ion ion-md-create createBtn"></span></button>  
      <!-- <button class= "addToTeam" style="float: right;"><span class= "addToTeam" style="float: right;" class="ion ion-md-add addBtn"></span></button>   -->
    </mat-cell> 
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
</mat-table>

<mat-paginator [pageSize]="15" [pageSizeOptions]="[15, 30, 100]"></mat-paginator>
</div>
